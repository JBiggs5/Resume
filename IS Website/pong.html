<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pong</title>

<style>
body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    background-color: #e8f4fb;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.game-container {
    background: white;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    text-align: center;
    width: 700px;
}

h1 {
    color: #1f4e79;
}

canvas {
    border: 2px solid #cce4f5;
    background-color: #f9fcff;
    display: block;
    margin: 15px auto;
}

button {
    padding: 10px 20px;
    margin: 10px;
    font-size: 16px;
    background-color: #1f4e79;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

button:hover {
    background-color: #163a5c;
}

#message {
    font-size: 18px;
    font-weight: bold;
    color: #1f4e79;
}
</style>
</head>

<body>

<div class="game-container">
    <h1>Pong</h1>

    <canvas id="game" width="600" height="400"></canvas>

    <div>
        <button onclick="startGame()">Start</button>
        <button onclick="pauseGame()">Pause</button>
    </div>

    <p>First to 5 points wins. Use ↑ ↓ to move.</p>
    <p id="message"></p>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let running = false;
let gameOver = false;

const paddleH = 80;
const paddleW = 10;

let playerY = canvas.height / 2 - paddleH / 2;
let aiY = playerY;

let ballX = canvas.width / 2;
let ballY = canvas.height / 2;
let ballVX = 4;
let ballVY = 4;

let playerScore = 0;
let aiScore = 0;
const winScore = 5;

document.addEventListener("keydown", e => {
    if (e.key === "ArrowUp" && playerY > 0) playerY -= 40;
    if (e.key === "ArrowDown" && playerY < canvas.height - paddleH) playerY += 40;
});

function startGame() {
    if (!gameOver) running = true;
}

function pauseGame() {
    running = false;
}

function resetBall() {
    ballX = canvas.width / 2;
    ballY = canvas.height / 2;
    ballVX *= -1;
}

function update() {
    if (!running || gameOver) return;

    ballX += ballVX;
    ballY += ballVY;

    if (ballY <= 0 || ballY >= canvas.height) ballVY *= -1;

    if (ballX < 20 && ballY > playerY && ballY < playerY + paddleH)
        ballVX *= -1;

    if (ballX > canvas.width - 20 && ballY > aiY && ballY < aiY + paddleH)
        ballVX *= -1;

    aiY += (ballY - (aiY + paddleH / 2)) * 0.08;

    if (ballX < 0) {
        aiScore++;
        resetBall();
    }

    if (ballX > canvas.width) {
        playerScore++;
        resetBall();
    }

    if (playerScore === winScore) {
        gameOver = true;
        running = false;
        document.getElementById("message").textContent = "You Win!";
    }

    if (aiScore === winScore) {
        gameOver = true;
        running = false;
        document.getElementById("message").textContent = "Game Over";
    }
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.fillRect(10, playerY, paddleW, paddleH);
    ctx.fillRect(canvas.width - 20, aiY, paddleW, paddleH);

    ctx.beginPath();
    ctx.arc(ballX, ballY, 8, 0, Math.PI * 2);
    ctx.fill();

    ctx.font = "20px Arial";
    ctx.fillText(playerScore, canvas.width / 4, 30);
    ctx.fillText(aiScore, canvas.width * 3 / 4, 30);
}

function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}

loop();
</script>

</body>
</html>
